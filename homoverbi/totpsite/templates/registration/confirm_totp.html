{% extends "base.html" %}
{% block content %}
<div class="card">
  <h2>Підключи TOTP</h2>
  <ol>
    <li>Відкрий застосунок-аутентифікатор (Aegis, Google Authenticator, 1Password, Bitwarden, etc.).</li>
    <li>Скануй QR або додай вручну по <code>otpauth</code> URL.</li>
    <li>Введи 6-значний код, щоб активувати акаунт.</li>
  </ol>

  <p><img src="{{ qr_data }}" alt="TOTP QR" style="max-width:260px;border:1px solid #ddd;border-radius:12px;"></p>
  <p style="word-break:break-all"><small><code>{{ otpauth_url }}</code></small></p>

  <form method="post" action="/accounts/confirm-totp/">
    {% csrf_token %}
    <label>Код (6 цифр)<br><input name="token" inputmode="numeric" pattern="[0-9]*" required></label>
    <p><button type="submit">Підтвердити</button></p>
  </form>
</div>
{% endblock %}
